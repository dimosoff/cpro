(()=>{var v=new C,E=new $;function L(n,o,t){document.querySelector(n).addEventListener("click",()=>{document.querySelectorAll(o).forEach(l=>{l.classList.toggle(t)})})}function w(n,o,t){window.addEventListener("scroll",function(){scrollY>o?document.querySelector(n).classList.add(t):document.querySelector(n).classList.remove(t)}),scrollY>o&&document.querySelector(n).classList.add(t)}function b(n="_menu-opened"){document.querySelectorAll("a[href^='#']").forEach(t=>{t.addEventListener("click",l=>{var h;l.preventDefault();let d=l.target.getAttribute("href")||l.target.parentElement.getAttribute("href")||l.target.firstElementChild.getAttribute("href");if(d==="#")return;let a=document.getElementById(d.substring(1));if(!a)return;let i=window.scrollY,f=((h=document.querySelector("header"))==null?void 0:h.clientHeight)||50,p=a.offsetTop-+f,m=document.querySelector(n);m&&m.classList.remove(n),S({duration:600,timing:q,draw:function(g){window.scrollTo(0,i-(i-p)*g)}})})})}function _(){let n=document.querySelector(".scroll-top");window.addEventListener("scroll",function(){let o=n.classList.contains("_active"),t=scrollY>35;t&&!o?n.classList.add("_active"):!t&&o&&n.classList.remove("_active")}),n.addEventListener("click",()=>{let o=window.scrollY;S({duration:600,timing:q,draw:function(t){window.scrollTo(0,o-o*t)}})}),scrollY>35&&!n.classList.contains("_active")&&n.classList.add("_active")}function S({timing:n,draw:o,duration:t}){let l=performance.now();requestAnimationFrame(function d(a){let i=(a-l)/t;i<0&&(i=0),i>1&&(i=1);let f=n(i);o(f),i<1&&requestAnimationFrame(d)})}function q(n){return Math.pow(n,1/5)}function A(){let n=document.querySelectorAll("[data-lazyload]");if(!n.length)return;if("IntersectionObserver"in window){let t={rootMargin:"50px",threshold:[0,.5]};return n.forEach(l=>{new IntersectionObserver(a,t).observe(l);function a(i,f){i.forEach(p=>{p.isIntersecting&&(o(p.target),f.disconnect())})}}),!0}else return n.forEach(t=>o(t)),!0;function o(t){t.hasAttribute("data-src")&&(t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src"))}}function $(){let n=document.querySelectorAll("[data-gallery]");if(!n.length)return;let o=document.createElement("div"),t=document.createElement("button"),l="my-gallery_active";o.className="my-gallery",t.type="button",t.className="my-gallery__close",t.innerHTML="<span class='sr-only'>\u0417\u0430\u043A\u0440\u044B\u0442\u044C</span>",document.body.appendChild(o),o.appendChild(t);let d=new Image;this.show=()=>o.classList.add(l),this.hide=()=>o.classList.remove(l),t.addEventListener("click",()=>{v.hide(),this.hide()}),o.addEventListener("click",()=>{v.hide(),this.hide()}),n.forEach(a=>{let i=a.querySelector("img");if(!i)return;let p=(i.getAttribute("data-src")||i.getAttribute("src")||"images/placeholder.svg").replace("/thumbnails","");a.addEventListener("click",m=>{this.showGalleryElement(m,p)}),a.addEventListener("keydown",m=>{(m.key===" "||m.key==="Enter"||m.key==="Spacebar")&&this.showGalleryElement(m,p)})}),this.showGalleryElement=(a,i)=>{a.preventDefault(),v.show(),d.onload=()=>o.appendChild(d),d.src=i,d.alt=a.target.alt,this.show()}}function C(){let n="popup-overlay";this.element=document.querySelector(`.${n}`);let o=`${n}_active`,t=document.body,l=document.querySelector("header");this.show=()=>{let d=window.innerWidth-document.body.clientWidth;this.element.classList.add(o),t.style=`overflow: hidden; margin-right: ${d}px`,l.style=`padding-right: ${d}px`},this.hide=()=>{this.element.classList.remove(o),setTimeout(()=>{t.style="",l.style=""},300)}}document.addEventListener("DOMContentLoaded",function(){let n="_menu-opened";w(".header",35,"_scrolled"),L(".burger",".header",n),A(),_(),b(n),E;let o=v,t=document.querySelector(".thank-you-popup"),l=document.querySelector(".top-up-popup"),d=document.querySelectorAll(".popup__close"),a="popup_active",i=document.querySelectorAll("form.form"),f=document.querySelectorAll(".form__input"),p=document.querySelector("button[name=top-up-account]"),m=document.querySelectorAll(".faq-item");m.length&&m.forEach(s=>{let c=s.querySelector(".faq-item__button"),u=s.querySelector(".faq-item__answer-wrapper");c.addEventListener("click",()=>{g(c,u)}),c.addEventListener("keydown",e=>{(e.key===" "||e.key==="Enter"||e.key==="Spacebar")&&(e.preventDefault(),g(c,u))})}),d.forEach(s=>{s.addEventListener("click",()=>{o.hide(),t.classList.remove(a),l.classList.remove(a)})}),o.element.addEventListener("click",()=>{o.hide(),t.classList.remove(a),l.classList.remove(a)}),f&&f.forEach(s=>{let c=s.previousElementSibling||s.nextElementSibling;!c.classList.contains("form__label_placeholder")||(h(s.value,c),s.addEventListener("focusin",u=>h(s.value,c,u.type)),s.addEventListener("focusout",u=>h(s.value,c,u.type)))}),i&&i.forEach(s=>{let c=s.querySelector(`#${s.name}-phone`);c&&k(c)}),p&&p.addEventListener("click",()=>{o.show(),l.classList.add(a)});function h(s,c,u="init"){if(!s&&u=="init"||!!s&&u=="focusout")return;let e="form__label_placeholder_active";switch(u){case"init":case"focusin":c.classList.add(e);break;case"focusout":c.classList.remove(e);break}}function g(s,c){if(!s&&!c)return;let u=s.parentElement;u.classList.contains("_active")?m.forEach(e=>{e.classList.remove("_active","_not-active"),e.querySelector(".faq-item__answer-wrapper").removeAttribute("style")}):(m.forEach(e=>{e.classList.add("_not-active"),e.classList.remove("_active"),e.querySelector(".faq-item__answer-wrapper").removeAttribute("style")}),u.classList.add("_active"),u.classList.remove("_not-active"),c.style.height=`${c.firstElementChild.offsetHeight}px`)}function k(s){s.addEventListener("input",c=>{let e=c.target.value.replace(/((?!\+)\D+)+/g,"").match(/^(\+\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/),y="",r=1;e===null||!e[r]?y="":e[r]&&!e[r+1]?y=`${e[r]}`:e[r]&&e[r+1]&&!e[r+2]?y=`${e[r]} (${e[r+1]}`:e[r]&&e[r+1]&&e[r+2]&&!e[r+3]?y=`${e[r]} (${e[r+1]}) ${e[r+2]}`:e[r]&&e[r+1]&&e[r+2]&&e[r+3]&&!e[r+4]?y=`${e[r]} (${e[r+1]}) ${e[r+2]}-${e[r+3]}`:y=`${e[r]} (${e[r+1]}) ${e[r+2]}-${e[r+3]}-${e[r+4]}`,c.target.value=y})}});})();
